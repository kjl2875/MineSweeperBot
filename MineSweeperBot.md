


# MineSweeperBot
MineSweeper Robot(지뢰찾기 로봇)은 컴퓨터 소프트웨어 이름이다.
이 소프트웨어는 지뢰찾기를 사람의 도움없이 컴퓨터 스스로 끝까지 진행할 수 있다.
이 문서에서는  MineSweeper Robot을 만드는 내용에 대한 기초를 정의한다. 
> 이 문서는 지뢰찾기 진행을 어떻게 하는지 미리 이해하고 있어야 됨

## Let's make MineSweeperBot

### Beginning
지뢰찾기(MineSwepper) 진행을 사람이 했던 내용을 기초로 해서,
지뢰찾기(MineSwepper) 진행을 로봇이 할 수 있게 해보자!
> 여기서 말하는 로봇은 컴퓨터 소프트웨어 프로그램이며,
> 이 프로그램의 이름은 MineSweeperBot 또는 지뢰찾기봇이라고 부른다.

### Why make it?
빠르고 정확한 성질을 갖는 컴퓨터에, 사람이 경험한 가이드라인을 추가한 소프트웨어를 만들어 더 좋은 결과를 만들어 낼 수 있는지 확인하기 위한 실험적인 소프트웨어 연구개발 경험을 만들려고 한다.

## MineSweeperBot Program

### 화면에서 셀 이미지 분리
화면에서 필드 영역은 수동으로 입력하며, 필드영역 좌표값은 그림판으로 알아낼 수 있다.
지뢰찾기 프로그램에서 표시된 셀들은 고정픽셀이 아닌 가변픽셀이다.
가변픽셀 값을 추출하기 위해서는 아래 수식을 참조한다.
```
cell_width_count: 필드의 셀 가로개수
cell_height_count: 필드의 셀 높이개수
px_width: 필드 너비 픽셀
px_height: 필드 높이 픽셀
cell_width_tick = px_width/cell_width_count
cell_height_tick = px_height/cell_height_count
cell = X좌표는 (cell_width_tick*(x+0))부터 (cell_width_tick*(x+1))까지
cell = Y좌표는 (cell_height_tick*(y+0))부터 (cell_height_tick*(y+1))까지
cell = cell.border1px.remove
// 셀 캡쳐 할 때의 각 셀 테두리 1픽셀은 다른 셀 이미지에 따라 색상이 달라지므로 제거한다
```

### 화면에서 기타 이미지 분리 및 처리

A. 경과시간: 프로그램 제어에 사용되지 않는 이미지.
B. 남은지뢰: 차후 프로그램 업데이트에서 제어에 사용될 가능성이 있는 이미지.
C. 상단 중앙 얼굴이미지: 재시작, 지뢰밟아서 끝남, 모두 찾아서 끝남 상태를 알 수 있는 이미지.
```
A와 B는 이미지 저장만 진행한다.
C는 어떤 상태인지 판단해서 값으로 저장한다.
C는 고정 이미지픽셀 형태라 이미지 크기 및 픽셀 RGB를 프로그래밍 할 수 있는 정도면 쉽게 가능하다.
```

### 분리된 셀이미지의 셀값을 판정

셀 이미지 값들이다.
```
깃발(*)
안눌렸음(?)
눌렀음(0)
숫자(1~8)
```
OpenCV의 Feature Matching을 쓰는것이 좋지만 사용가능한 기술이 없으므로,
같은 셀값에서의 이미지의 크기나 색상변화가 거의 없다는 점을 활용해서 간단하게만 만든다.

### 판정 및 행동
사전에 미리 규칙을 대입하는 방법으로 판정 및 행동한다.
```
A = 대상 셀 숫자
A1 = A의 남은 필드 수
A2 = A의 남은 지뢰 수
A1[] = A의 남은 필드 목록
B = 주변 셀 숫자
B1 = B의 남은 필드 수
B2 = B의 남은 지뢰 수
B1[] = B의 남은 필드 목록

A1 = A2 => A2는 모두 지뢰.
A2 = 0 => A2는 모두 안전.
B1[]값중에 A1[]이 모두 포함되어 있는 경우라면 B1[]-A1[]의 남은 지뢰 수는 B2-A2가 맞다.
```



